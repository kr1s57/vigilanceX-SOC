# ============================================
# VIGILANCE X - Configuration
# ============================================
# Copiez ce fichier en .env et modifiez les valeurs

# ============================================
# Application
# ============================================
APP_ENV=production
# APP_ENV=development

# ============================================
# ClickHouse
# ============================================
CLICKHOUSE_USER=vigilance
CLICKHOUSE_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# ============================================
# Redis
# ============================================
REDIS_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# ============================================
# Sophos XGS Firewall
# ============================================
SOPHOS_HOST=192.168.1.1
SOPHOS_PORT=4444
SOPHOS_USER=admin
SOPHOS_PASSWORD=CHANGE_ME_SOPHOS_PASSWORD

# ============================================
# Threat Intelligence APIs
# ============================================
# === Core Providers (3 piliers) ===

# AbuseIPDB - https://www.abuseipdb.com/account/api
# Valeur: Score de comportement basé sur les rapports de la communauté
ABUSEIPDB_API_KEY=

# VirusTotal - https://www.virustotal.com/gui/my-apikey
# Valeur: Consensus multi-AV et réputation
VIRUSTOTAL_API_KEY=

# AlienVault OTX - https://otx.alienvault.com/api
# Valeur: Contexte de menace et IOCs
ALIENVAULT_API_KEY=

# === v1.6 Providers (OSINT étendu) ===

# GreyNoise Community - https://www.greynoise.io/viz/signup
# Valeur: Réduit les faux positifs (identifie Shodan, Googlebot, etc.)
GREYNOISE_API_KEY=

# Criminal IP - https://www.criminalip.io/
# Valeur: Détection C2, VPN, Proxy, infrastructure d'attaque
CRIMINALIP_API_KEY=

# Pulsedive - https://pulsedive.com/api/
# Valeur: Corrélation IOC, threat actors, campagnes
PULSEDIVE_API_KEY=

# IPSum - Pas de clé API requise (données GitHub publiques)
# Valeur: Agrégation de 30+ blocklists (auto-configuré)

# ============================================
# JWT Authentication
# ============================================
# Generate with: openssl rand -hex 32
JWT_SECRET=CHANGE_ME_GENERATE_RANDOM_SECRET

# ============================================
# Frontend URLs
# ============================================
VITE_API_URL=http://localhost:8080
VITE_WS_URL=ws://localhost:8080/ws

# ============================================
# Optional: External Access
# ============================================
# Si vous exposez derriere un reverse proxy
# VITE_API_URL=https://vigilance.example.com/api
# VITE_WS_URL=wss://vigilance.example.com/ws

# ============================================
# Licensing System (v2.9.0)
# ============================================
# License server URL (required)
LICENSE_SERVER_URL=https://vigilancexkey.cloudcomputing.lu
# LICENSE_SERVER_URL=http://10.56.126.126  # For testing (port 80)

# License key (optional - can also be entered via UI)
# LICENSE_KEY=XXXX-XXXX-XXXX-XXXX

# Enable/disable licensing (default: true)
LICENSE_ENABLED=true

# Heartbeat interval (default: 12h)
LICENSE_HEARTBEAT_INTERVAL=12h

# Grace period when license server unreachable (default: 72h)
LICENSE_GRACE_PERIOD=72h

# License data storage path (inside container)
LICENSE_STORE_PATH=/app/data/license.json

# ============================================
# OSINT Proxy (v2.9.0)
# ============================================
# Enable proxy mode to route OSINT through license server
# When enabled, local API keys are NOT required
OSINT_PROXY_ENABLED=false

# Proxy server URL (usually same as LICENSE_SERVER_URL)
# OSINT_PROXY_URL=https://vigilancexkey.cloudcomputing.lu/api/v1/osint/check

# Proxy request timeout (default: 30s)
OSINT_PROXY_TIMEOUT=30s

# Proxy rate limit (requests per minute, default: 60)
OSINT_PROXY_RATE_LIMIT=60
